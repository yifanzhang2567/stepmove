<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>ZEPP 步数同步</title>
</head>
<body>
  <h2>ZEPP 步数同步（无需微信）</h2>
  <form id="f">
    ZEPP 账号<input name="user" required /><br />
    ZEPP 密码<input name="pwd" type="password" required /><br />
    目标步数<input name="step" type="number" required /><br />
    <button type="submit">立即同步</button>
  </form>

  <script>
    document.getElementById('f').addEventListener('submit', async (e) => {
      e.preventDefault();
      const fd = new FormData(e.target);
      const res = await fetch('/api/sync', {
        method: 'POST',
        body: new URLSearchParams(fd),
      });
      alert(await res.text());
    });
  </script>
</body>
</html>
